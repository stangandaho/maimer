% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/traprate.R
\name{mm_traprate_data}
\alias{mm_traprate_data}
\title{Prepare data for trap rate estimation}
\usage{
mm_traprate_data(
  observation_data,
  use_deployment = TRUE,
  deployment_data = NULL,
  deployment_column,
  start_column = NULL,
  end_column = NULL,
  datetime_column = NULL,
  format = NULL,
  time_zone = "",
  time_unit = "days"
)
}
\arguments{
\item{observation_data}{A data frame of detection records (e.g., camera trap images or events).}

\item{use_deployment}{Logical. If \code{TRUE} (default), effort is derived from deployment data.
If \code{FALSE}, effort is estimated from observation timestamps.}

\item{deployment_data}{Optional. A data frame of deployment metadata; required if \code{use_deployment = TRUE}.}

\item{deployment_column}{The column name (unquoted or as a string) that uniquely identifies the deployment (e.g., camera ID).}

\item{start_column}{Optional. Start datetime column in the deployment data. Required if \code{use_deployment = TRUE}.}

\item{end_column}{Optional. End datetime column in the deployment data. Required if \code{use_deployment = TRUE}.}

\item{datetime_column}{Optional. The datetime column in \code{observation_data}; used if \code{use_deployment = FALSE}.}

\item{format}{A character string specifying the format of the datetime columns. If \code{NULL}, defaults to ISO 8601 format.}

\item{time_zone}{The time zone used to parse datetime values. Default is \code{""} (i.e., system time zone).}

\item{time_unit}{Unit of time to compute effort and trap rate.
One of \code{"secs"}, \code{"mins"}, \code{"hours"}, \code{"days"}, or \code{"weeks"}. Default is \code{"days"}.}
}
\value{
A data frame with columns:
\itemize{
\item \code{deployment_column}: Deployment identifier
\item \code{n}: Number of observations per deployment
\item \code{effort}: Monitoring duration
\item \code{effort_unit}: Time unit used for effort
}
}
\description{
Calculates observation counts and associated monitoring effort per deployment
to support trap rate estimation.
}
\examples{
data("camtrapdp")
deployments <- camtrapdp$data$deployments
observations <- camtrapdp$data$observations \%>\%
                  dplyr::filter(scientificName == "Vulpes vulpes")

mm_traprate_data(observation_data = observations,
                 deployment_data = deployments,
                 use_deployment = TRUE,
                 deployment_column = deploymentID,
                 datetime_column = timestamp,
                 start = start, end = 'end'
                 )

}
\seealso{
\code{\link[=mm_get_effort]{mm_get_effort()}}
}
