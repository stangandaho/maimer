<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Alpha diversity index — mm_alpha_diversity • maimer</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Montserrat-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Alpha diversity index — mm_alpha_diversity"><meta name="description" content="Calculate index diversity within a particular area or ecosystem;
usually expressed by the number of species (i.e., species richness)
in that ecosystem."><meta property="og:description" content="Calculate index diversity within a particular area or ecosystem;
usually expressed by the number of species (i.e., species richness)
in that ecosystem."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">maimer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-code"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-blog"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/camtrap_data_preparation.html">1. Data preparation</a></li>
    <li><a class="dropdown-item" href="../articles/camtrap_data_analysis.html">2. Data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/camtrap_analysis_visualisation.html">3. Elegant visualizations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-face-smile"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stangandaho/maimer" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.linkedin.com/in/stangandaho/" aria-label="LinkedIn"><span class="fa fa-linkedin"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Alpha diversity index</h1>

      <div class="d-none name"><code>mm_alpha_diversity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate index diversity within a particular area or ecosystem;
usually expressed by the number of species (i.e., species richness)
in that ecosystem.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mm_alpha_diversity</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  to_community <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  index <span class="op">=</span> <span class="st">"shannon"</span>,</span>
<span>  <span class="va">site_column</span>,</span>
<span>  <span class="va">species_column</span>,</span>
<span>  size_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  margin <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing species observation data.</p></dd>


<dt id="arg-to-community">to_community<a class="anchor" aria-label="anchor" href="#arg-to-community"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, the function first transforms <code>data</code>
into a community matrix format where sites are rows and species are columns
before computing indices. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>A character vector specifying the diversity index to calculate.
Accepted values are <code>"shannon"</code>, <code>"simpson"</code>, <code>"invsimpson"</code>, <code>"evenness"</code>, and <code>"pielou"</code>.
Multiple indices can be computed simultaneously by providing a vector.</p></dd>


<dt id="arg-site-column">site_column<a class="anchor" aria-label="anchor" href="#arg-site-column"></a></dt>
<dd><p>The column name in <code>data</code> that represents the site or location where species were recorded.</p></dd>


<dt id="arg-species-column">species_column<a class="anchor" aria-label="anchor" href="#arg-species-column"></a></dt>
<dd><p>The column(s) in <code>data</code> representing species or taxa.
This can be a single column name, a range of column indices (e.g., <code>2:5</code>),
or a selection helper (e.g., <code>dplyr::starts_with("sp_")</code>).</p></dd>


<dt id="arg-size-column">size_column<a class="anchor" aria-label="anchor" href="#arg-size-column"></a></dt>
<dd><p>(Optional) The column in <code>data</code> containing the count or abundance of individuals per species.
If <code>NULL</code>, the function assumes each row represents one individual.</p></dd>


<dt id="arg-margin">margin<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>An integer specifying whether diversity calculations should be
performed by row (<code>margin = 1</code>) or by column (<code>margin = 2</code>). Default is <code>1</code> (row-wise).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with diversity index values for each site.
The first column corresponds to <code>site_column</code>, followed by one or more columns containing
the computed diversity indices, depending on the values specified in the <code>index</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Simpson diversity index</strong></p>
<p>Simpson (1949) introduced a diversity index that quantifies the likelihood
of two randomly chosen individuals belonging to the same species.
This probability increases as diversity decreases; in a scenario with
no diversity (only one species), the probability reaches 1.
Simpson's Index is computed using the following formula:</p>
<p>$$D = \sum_{i=1}^{S} \left( \frac{n_{i}}{N} \right)^2$$</p>
<p>where \(n_{i}\) is the number of individuals in species <em>i</em>,
N = total number of individuals of all species, and \(\frac{n_{i}}{N} = pi\)
(proportion of individuals of species <em>i</em>), and S = species richness.
The value of Simpson’s <em>D</em> ranges from 0 to 1, with 0 representing infinite
diversity and 1 representing no diversity, so the larger the value of D,
the lower the diversity. For this reason, Simpson’s index is often as its
complement (<em>1-D</em>). Simpson's Dominance Index is the inverse of the
Simpson's Index (\(1/D\)).</p>
<p><strong>Shannon-Weiner Diversity Index</strong></p>
<p>Shannon-Weiner Diversity Index is a measure of diversity that takes into
account both species richness and evenness, introduced by Claude Shannon in 1948.
Commonly referred to as Shannon's Diversity Index, it is based on the concept
of uncertainty. For instance, in a community with very low diversity, there is a high level of
certainty (or low uncertainty) about the identity of a randomly
selected organism. Conversely, in a highly diverse community, the
uncertainty increases, making it harder to predict which species a
randomly chosen organism will belong to (low certainty or high uncertainty).</p>
<p>$$H = -\sum_{i=1}^{S} p_{i} * \ln p_{i}$$</p>
<p>where \(p_{i}\) = proportion of individuals of species <em>i</em>, and <em>ln</em> is the natural logarithm,
and  S = species richness. The value of H ranges from 0 to Hmax.
Hmax is different for each community and depends on species richness.
(Note: Shannon-Weiner is often denoted H' ).</p>
<p><strong>Pielou or Evenness diversity index</strong></p>
<p>Species evenness refers to the relative abundance of each species within an
environment. For example, if there are 40 foxes and 1000 dogs, the community
is uneven because one species dominates. However, if there are 40 foxes and
42 dogs, the community is much more even, as the species are more balanced
in number. The degree of evenness in a community can be quantified using
Pielou's evenness index (Pielou, 1966):</p>
<p>$$J=\frac{H}{H_{\max }}$$</p>
<p>The value of J ranges from 0 to 1. Higher values indicate higher levels of
evenness. At maximum evenness, J = 1. J and D can be used as measures of
species dominance (the opposite of diversity) in a community.
Low J indicates that 1 or few species dominate the community.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pielou, E.C. (1966). The measurement of diversity in different types of
biological collections. Journal of Theoretical Biology, 13, pp. 131–144.
<a href="doi:10.1016/0022-5193(66)90013-0">doi:10.1016/0022-5193(66)90013-0</a>.</p>
<p>Simpson, E.H. (1949). Measurement of diversity. Nature, 163, pp. 688.
<a href="doi:10.1038/163688a0">doi:10.1038/163688a0</a></p>
<p>Shannon, C.E. (1948). A mathematical theory of communication. The Bell System
Technical Journal, 27, pp. 379-423.<a href="https://doi.org/10.1002/j.1538-7305.1948.tb01338.x" class="external-link">https://doi.org/10.1002/j.1538-7305.1948.tb01338.x</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">cam_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'penessoulou_season1.csv'</span>, package <span class="op">=</span> <span class="st">'maimer'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Transform data to community format and compute diversity indices</span></span></span>
<span class="r-in"><span><span class="va">alpha1</span> <span class="op">&lt;-</span> <span class="va">cam_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">mm_alpha_diversity</span><span class="op">(</span></span></span>
<span class="r-in"><span>    to_community <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    size_column <span class="op">=</span> <span class="va">number</span>,</span></span>
<span class="r-in"><span>    site_column <span class="op">=</span> <span class="va">camera</span>,</span></span>
<span class="r-in"><span>    species_column <span class="op">=</span> <span class="va">species</span>,</span></span>
<span class="r-in"><span>    index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"shannon"</span>, <span class="st">"evenness"</span>, <span class="st">"invsimpson"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative method using a manually transformed community matrix</span></span></span>
<span class="r-in"><span><span class="va">alpha2</span> <span class="op">&lt;-</span> <span class="va">cam_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="mm_to_community.html">mm_to_community</a></span><span class="op">(</span>site_column <span class="op">=</span> <span class="va">camera</span>, species_column <span class="op">=</span> <span class="va">species</span>,</span></span>
<span class="r-in"><span>                  size_column <span class="op">=</span> <span class="va">number</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">mm_alpha_diversity</span><span class="op">(</span></span></span>
<span class="r-in"><span>    to_community <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    site_column <span class="op">=</span> <span class="va">camera</span>,</span></span>
<span class="r-in"><span>    species_column <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span></span>
<span class="r-in"><span>    index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"shannon"</span>, <span class="st">"evenness"</span>, <span class="st">"invsimpson"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">alpha2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 13 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    camera          shannon evenness invsimpson</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> CAMERA 10         0.103    0.045       1.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> CAMERA 3          0.974    0.423       2.46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> CAMERA 5          0.893    0.388       2.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> CAMERA 8          0.224    0.097       1.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> CAMERA 2          0.509    0.221       1.34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> CAMERA 1          1.14     0.497       2.73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> CAMERA 12         0        0           1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> CAMERA 4          1.31     0.57        3.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> CAMERA 11         0        0           1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> CAMERA 3 - Bait   0.562    0.244       1.6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> CAMERA 1 - Bait   0        0           1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> CAMERA 19         0.637    0.276       1.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> FCPEN             0.131    0.057       1.06</span>
<span class="r-in"><span><span class="co"># Compare results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">alpha1</span> <span class="op">==</span> <span class="va">alpha2</span><span class="op">)</span> <span class="co"># TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stanislas Mahussi Gandaho.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

