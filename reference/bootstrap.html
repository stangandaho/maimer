<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate bootstrap estimates of overlap — mm_bootstrap • maimer</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Montserrat-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate bootstrap estimates of overlap — mm_bootstrap"><meta name="description" content="bootstrap takes two sets of times of observations and calculates bootstrap
estimates of the chosen estimator of overlap. Alternatively, bootstrap
estimates can be calculated in a 2-stage process: (1) create a matrix of
bootstrap samples for each data set, using mm_resample(); (2) pass these
matrices to mm_boot_estimates() to obtain the bootstrap estimates.
A vector of bootstrap estimates can then be used to produce confidence intervals
with mm_boot_CI()."><meta property="og:description" content="bootstrap takes two sets of times of observations and calculates bootstrap
estimates of the chosen estimator of overlap. Alternatively, bootstrap
estimates can be calculated in a 2-stage process: (1) create a matrix of
bootstrap samples for each data set, using mm_resample(); (2) pass these
matrices to mm_boot_estimates() to obtain the bootstrap estimates.
A vector of bootstrap estimates can then be used to produce confidence intervals
with mm_boot_CI()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">maimer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-code"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-blog"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/camtrap_data_preparation.html">1. Data preparation</a></li>
    <li><a class="dropdown-item" href="../articles/camtrap_data_analysis.html">2. Data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/camtrap_analysis_visualisation.html">3. Elegant visualizations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-face-smile"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stangandaho/maimer" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.linkedin.com/in/stangandaho/" aria-label="LinkedIn"><span class="fa fa-linkedin"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate bootstrap estimates of overlap</h1>

      <div class="d-none name"><code>bootstrap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>bootstrap</code> takes two sets of times of observations and calculates bootstrap
estimates of the chosen estimator of overlap. Alternatively, bootstrap
estimates can be calculated in a 2-stage process: (1) create a matrix of
bootstrap samples for each data set, using <code>mm_resample()</code>; (2) pass these
matrices to <code>mm_boot_estimates()</code> to obtain the bootstrap estimates.</p>
<p>A vector of bootstrap estimates can then be used to produce confidence intervals
with <code><a href="mm_boot_CI.html">mm_boot_CI()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mm_bootstrap</span><span class="op">(</span></span>
<span>  <span class="va">A</span>,</span>
<span>  <span class="va">B</span>,</span>
<span>  <span class="va">nb</span>,</span>
<span>  smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  kmax <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  adjust <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  n_grid <span class="op">=</span> <span class="fl">128</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Dhat1"</span>, <span class="st">"Dhat4"</span>, <span class="st">"Dhat5"</span><span class="op">)</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mm_resample</span><span class="op">(</span><span class="va">x</span>, <span class="va">nb</span>, smooth <span class="op">=</span> <span class="cn">TRUE</span>, kmax <span class="op">=</span> <span class="fl">3</span>, adjust <span class="op">=</span> <span class="fl">1</span>, n_grid <span class="op">=</span> <span class="fl">512</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mm_boot_estimates</span><span class="op">(</span></span>
<span>  <span class="va">Amat</span>,</span>
<span>  <span class="va">Bmat</span>,</span>
<span>  kmax <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  adjust <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  n_grid <span class="op">=</span> <span class="fl">128</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"Dhat1"</span>, <span class="st">"Dhat4"</span>, <span class="st">"Dhat5"</span><span class="op">)</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-a">A<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>A numeric vector of time-of-day observations (in radians) for species A.</p></dd>


<dt id="arg-b">B<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>A numeric vector of time-of-day observations (in radians) for species B.</p></dd>


<dt id="arg-nb">nb<a class="anchor" aria-label="anchor" href="#arg-nb"></a></dt>
<dd><p>the number of bootstrap samples required</p></dd>


<dt id="arg-smooth">smooth<a class="anchor" aria-label="anchor" href="#arg-smooth"></a></dt>
<dd><p>if TRUE, smoothed bootstrap samples are produced.</p></dd>


<dt id="arg-kmax">kmax<a class="anchor" aria-label="anchor" href="#arg-kmax"></a></dt>
<dd><p>An integer indicating the maximum number of modes allowed in the activity pattern. Default is <code>3</code>.</p></dd>


<dt id="arg-adjust">adjust<a class="anchor" aria-label="anchor" href="#arg-adjust"></a></dt>
<dd><p>A numeric value to adjust the bandwidth of the kernel density estimation. Default is <code>1</code>.</p></dd>


<dt id="arg-n-grid">n_grid<a class="anchor" aria-label="anchor" href="#arg-n-grid"></a></dt>
<dd><p>An integer specifying the number of grid points for density estimation. Default is <code>128</code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>the name of the estimator to use, or "all" to produce all three
estimates. See <code><a href="mm_overlap_estimates.html">mm_overlap_estimates()</a></code> for recommendations on which to use.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>the number of cores to use for parallel processing. If NA, all but one of the available cores will used. Parallel processing may take longer than serial processing if the bootstrap runs quickly.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a numeric vector of time-of-capture data in <em>radians</em>, ie. on [0, \(2\pi\)] scale</p></dd>


<dt id="arg-amat-bmat">Amat, Bmat<a class="anchor" aria-label="anchor" href="#arg-amat-bmat"></a></dt>
<dd><p>matrices of resampled data for each species produced by <code>resample</code>; see Value below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function <code>mm_bootstrap()</code> returns a vector of bootstrap estimates.
If estimation fails for a bootstrap sample, the corresponding value will be NA.</p>
<p>The function <code>mm_resample()</code> returns a numeric matrix with each column corresponding
to a bootstrap sample. Times are in <code>radians</code>. It may return a matrix of NAs if
<code>smooth = TRUE</code> and bandwidth estimation fails.</p>
<p>The Function mm_boot_estimates with <code>type = "all"</code> returns a numeric matrix
with three columns, one for each estimator of overlap, otherwise a vector of
bootstrap estimates.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Ridout &amp; Linkie (2009) Estimating overlap of daily activity patterns
from camera trap data. Journal of Agricultural, Biological, and Environmental
Statistics 14:322-337</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="mm_boot_CI.html">mm_boot_CI()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mike Meredith, Martin Ridout.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate random data for two species</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">species_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1.2</span>, <span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">species_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">0.23</span>, <span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="mm_overlap_estimates.html">mm_overlap_estimates</a></span><span class="op">(</span><span class="va">species_A</span>, <span class="va">species_B</span>, type<span class="op">=</span><span class="st">"Dhat4"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">boots</span> <span class="op">&lt;-</span> <span class="fu">mm_bootstrap</span><span class="op">(</span><span class="va">species_A</span>, <span class="va">species_B</span>, <span class="fl">1000</span>, type<span class="op">=</span><span class="st">"Dhat4"</span>, cores<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">boots</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8304592</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">boots</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bootstrap-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="mm_boot_CI.html">mm_boot_CI</a></span><span class="op">(</span><span class="va">est</span>, <span class="va">boots</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            lower     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> norm   0.7975707 0.9708611</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> norm0  0.7706923 0.9439828</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> basic  0.8051838 0.9740576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> basic0 0.7674959 0.9363697</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> perc   0.7406175 0.9094913</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># alternatively:</span></span></span>
<span class="r-in"><span><span class="va">species_A_gen</span> <span class="op">&lt;-</span> <span class="fu">mm_resample</span><span class="op">(</span><span class="va">species_A</span>, <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">species_B_gen</span> <span class="op">&lt;-</span> <span class="fu">mm_resample</span><span class="op">(</span><span class="va">species_B</span>, <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">boots</span> <span class="op">&lt;-</span> <span class="fu">mm_boot_estimates</span><span class="op">(</span><span class="va">species_A_gen</span>, <span class="va">species_B_gen</span>, type<span class="op">=</span><span class="st">"Dhat4"</span>, cores<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">boots</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8338819</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stanislas Mahussi Gandaho.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

